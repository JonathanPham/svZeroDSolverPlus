The sv\+Zero\+DSolver is a fast simulation tool for modeling the hemodynamics of vascular networks using zero-\/dimensional (0D) lumped parameter models.


\begin{DoxyItemize}
\item \href{https://github.com/SimVascular/svZeroDSolver}{\texttt{ Source repository}}
\item \href{https://simvascular.github.io}{\texttt{ About Sim\+Vascular}}

\[
\begin{circuitikz} \draw
node[left] {$Q_{in}$} [-latex] (0,0) -- (0.8,0);
\draw (1,0) node[anchor=south]{$P_{in}$}
to [R, l=$R$, *-] (3,0)
to [L, l=$L$, *-*] (5,0)
node[anchor=south]{$P_{out}$}
(3,0) to [C, l=$C$, *-] (3,-1.5)
node[ground]{$P_C$};
\draw [-latex] (5.2,0) -- (6,0) node[right] {$Q_{out}$};
\end{circuitikz}
\]
\end{DoxyItemize}\hypertarget{index_autotoc_md8}{}\doxysection{Background}\label{index_autotoc_md8}
Zero-\/dimensional (0D) models are lightweight methods to simulate bulk hemodynamic quantities in the cardiovascular system. Unlike 3D and 1D models, 0D models are purely time-\/dependent; they are unable to simulate spatial patterns in the hemodynamics. 0D models are analogous to electrical circuits. The flow rate simulated by 0D models represents electrical current, while the pressure represents voltage. Three primary building blocks of 0D models are resistors, capacitors, and inductors Resistance captures the viscous effects of blood flow, capacitance represents the compliance and distensibility of the vessel wall, and inductance represents the inertia of the blood flow. Different combinations of these building blocks, as well as others, can be formed to reflect the hemodynamics and physiology of different cardiovascular anatomies.\+These 0D models are governed by differential algebraic equations (DAEs).\hypertarget{index_autotoc_md9}{}\doxysection{Architecture}\label{index_autotoc_md9}
\hypertarget{index_autotoc_md10}{}\doxysubsection{Model}\label{index_autotoc_md10}
The solver uses a highly modular framework to model the vascular anatomy, using individual classes to represent different 0D elements of the model. The elements are part of the \mbox{\hyperlink{namespace_m_o_d_e_l}{MODEL}} namespace. Currently supported elements are\+:


\begin{DoxyItemize}
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_blood_vessel}{MODEL\+::\+Blood\+Vessel}}\+: RCL blood vessel respresentation with optional stenosis
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_junction}{MODEL\+::\+Junction}}\+: Junction element with arbitrary inlets and outlets.
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_flow_reference}{MODEL\+::\+Flow\+Reference}}\+: Prescribed flow boundary condition
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_r_c_r_block_with_distal_pressure}{MODEL\+::\+RCRBlock\+With\+Distal\+Pressure}}\+: RCR Windkessel boundary condition
\end{DoxyItemize}

More information about the elements can be found on their respective pages. The elements are connected to each other via nodes (see \mbox{\hyperlink{class_m_o_d_e_l_1_1_node}{MODEL\+::\+Node}}). Each node corresponds to a flow and a pressure value of the model. The \mbox{\hyperlink{class_m_o_d_e_l_1_1_d_o_f_handler}{MODEL\+::\+DOFHandler}} handles the degrees-\/of-\/freedom (DOF) of the system by assigning DOF indices to each element that determine the location of the local element contribution in the global system. The complete model is stored and managed by the \mbox{\hyperlink{class_m_o_d_e_l_1_1_model}{MODEL\+::\+Model}} class.\hypertarget{index_autotoc_md11}{}\doxysubsection{Algebra}\label{index_autotoc_md11}
Everything related to solving the system of equation is contained in the \mbox{\hyperlink{namespace_a_l_g_e_b_r_a}{ALGEBRA}} namespace. The sv\+Zero\+DSolver provides two different strategies for handling the system of equation\+: a dense strategy (see \mbox{\hyperlink{class_a_l_g_e_b_r_a_1_1_dense_system}{ALGEBRA\+::\+Dense\+System}}) and a sparse strategy (\mbox{\hyperlink{class_a_l_g_e_b_r_a_1_1_sparse_system}{ALGEBRA\+::\+Sparse\+System}}). The \mbox{\hyperlink{class_a_l_g_e_b_r_a_1_1_integrator}{ALGEBRA\+::\+Integrator}} handles the time integration scheme (see Integrator documentation for more information on that).\hypertarget{index_autotoc_md12}{}\doxysubsection{Input/output}\label{index_autotoc_md12}
Finally the \mbox{\hyperlink{namespace_i_o}{IO}} namespace provides everything related to reading and writing files. The \mbox{\hyperlink{class_i_o_1_1_config_reader}{IO\+::\+Config\+Reader}} reads the simultion config and \mbox{\hyperlink{namespace_i_o_ab7ebfa63dd94e3d4fa9230f1cc33e464}{IO\+::write\+\_\+csv}} and \mbox{\hyperlink{namespace_i_o_a5627320a9783c2ba55b82553bb145f19}{IO\+::write\+\_\+json}} are two different methods for writing the result files.

All classes make use of templates to allow easy exchange of scalar types like {\ttfamily double} or {\ttfamily float} or to switch between sparse and dense systems.\hypertarget{index_autotoc_md13}{}\doxysection{Build sv\+Zero\+DSolver}\label{index_autotoc_md13}
sv\+Zero\+DSolver can be build easily via CMake. Make sure you have the following dependencies installed before you start\+:\hypertarget{index_autotoc_md14}{}\doxysubsection{Install dependencies on mac\+OS}\label{index_autotoc_md14}

\begin{DoxyCode}{0}
\DoxyCodeLine{brew install eigen       \# Linear algebra library}
\DoxyCodeLine{brew install jsoncpp     \# Standard json library}
\DoxyCodeLine{brew install simdjson    \# Fast json input parser}

\end{DoxyCode}
\hypertarget{index_autotoc_md15}{}\doxysubsection{Install dependencies on Linux}\label{index_autotoc_md15}

\begin{DoxyCode}{0}
\DoxyCodeLine{sudo apt install libeigen3-\/dev       \# Linear algebra library}
\DoxyCodeLine{sudo apt-\/get install libjsoncpp-\/dev  \# Standard json library}
\DoxyCodeLine{sudo apt install libsimdjson-\/dev     \# Fast json input parser}

\end{DoxyCode}
\hypertarget{index_autotoc_md16}{}\doxysubsection{Build in debug mode}\label{index_autotoc_md16}

\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir Debug}
\DoxyCodeLine{cd Debug}
\DoxyCodeLine{cmake -\/DCMAKE\_BUILD\_TYPE=Debug ..}
\DoxyCodeLine{cmake -\/-\/build .}

\end{DoxyCode}
\hypertarget{index_autotoc_md17}{}\doxysubsection{Build in release mode}\label{index_autotoc_md17}

\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir Release}
\DoxyCodeLine{cd Release}
\DoxyCodeLine{cmake -\/DCMAKE\_BUILD\_TYPE=Release ..}
\DoxyCodeLine{cmake -\/-\/build .}

\end{DoxyCode}
\hypertarget{index_autotoc_md18}{}\doxysection{Run sv\+Zero\+DSolver}\label{index_autotoc_md18}
After building sv\+Zero\+DSolver, the build folder contains an executable called {\ttfamily svzerodsolver}. Run it with one of\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{./svzerodsolver path/to/config.json path/to/output.json  \# For json output file format}
\DoxyCodeLine{./svzerodsolver path/to/config.json path/to/output.csv   \# For csv output file format (faster)}

\end{DoxyCode}


{\ttfamily path/to/config.\+json} and {\ttfamily path/to/output} should be replaced by the correct paths to the input and output file, respectively. 