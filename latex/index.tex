The sv\+Zero\+DSolver is a fast simulation tool for modeling the hemodynamics of vascular networks using zero-\/dimensional (0D) lumped parameter models.


\begin{DoxyItemize}
\item \href{https://github.com/SimVascular/svZeroDSolver}{\texttt{ Source repository}}
\item \href{https://simvascular.github.io}{\texttt{ About Sim\+Vascular}}

\[
\begin{circuitikz} \draw
node[left] {$Q_{in}$} [-latex] (0,0) -- (0.8,0);
\draw (1,0) node[anchor=south]{$P_{in}$}
to [R, l=$R$, *-] (3,0)
to [L, l=$L$, *-*] (5,0)
node[anchor=south]{$P_{out}$}
(3,0) to [C, l=$C$, *-] (3,-1.5)
node[ground]{$P_C$};
\draw [-latex] (5.2,0) -- (6,0) node[right] {$Q_{out}$};
\end{circuitikz}
\]
\end{DoxyItemize}\hypertarget{index_autotoc_md0}{}\doxysection{Background}\label{index_autotoc_md0}
Zero-\/dimensional (0D) models are lightweight methods to simulate bulk hemodynamic quantities in the cardiovascular system. Unlike 3D and 1D models, 0D models are purely time-\/dependent; they are unable to simulate spatial patterns in the hemodynamics. 0D models are analogous to electrical circuits. The flow rate simulated by 0D models represents electrical current, while the pressure represents voltage. Three primary building blocks of 0D models are resistors, capacitors, and inductors Resistance captures the viscous effects of blood flow, capacitance represents the compliance and distensibility of the vessel wall, and inductance represents the inertia of the blood flow. Different combinations of these building blocks, as well as others, can be formed to reflect the hemodynamics and physiology of different cardiovascular anatomies.\+These 0D models are governed by differential algebraic equations (DAEs).\hypertarget{index_autotoc_md1}{}\doxysection{Architecture}\label{index_autotoc_md1}
\hypertarget{index_autotoc_md2}{}\doxysubsection{Model}\label{index_autotoc_md2}
The solver uses a highly modular framework to model the vascular anatomy, using individual classes to represent different 0D elements of the model. The elements are part of the \mbox{\hyperlink{namespace_m_o_d_e_l}{MODEL}} namespace. Currently supported elements are\+:


\begin{DoxyItemize}
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_blood_vessel}{MODEL\+::\+Blood\+Vessel}}\+: RCL blood vessel respresentation with optional stenosis.
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_junction}{MODEL\+::\+Junction}}\+: Junction element with arbitrary inlets and outlets.
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_flow_reference_b_c}{MODEL\+::\+Flow\+Reference\+BC}}\+: Prescribed flow boundary condition.
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_pressure_reference_b_c}{MODEL\+::\+Pressure\+Reference\+BC}}\+: Prescribed pressure boundary condition.
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_resistance_b_c}{MODEL\+::\+Resistance\+BC}}\+: Resistance boundary condition.
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_windkessel_b_c}{MODEL\+::\+Windkessel\+BC}}\+: RCR Windkessel boundary condition.
\item \mbox{\hyperlink{class_m_o_d_e_l_1_1_open_loop_coronary_b_c}{MODEL\+::\+Open\+Loop\+Coronary\+BC}}\+: Open Loop coronary boundary condition.
\end{DoxyItemize}

The elements are based on the parent \mbox{\hyperlink{class_m_o_d_e_l_1_1_block}{MODEL\+::\+Block}} class. More information about the elements can be found on their respective pages. The elements are connected to each other via nodes (see \mbox{\hyperlink{class_m_o_d_e_l_1_1_node}{MODEL\+::\+Node}}). Each node corresponds to a flow and a pressure value of the model. The \mbox{\hyperlink{class_m_o_d_e_l_1_1_d_o_f_handler}{MODEL\+::\+DOFHandler}} handles the degrees-\/of-\/freedom (DOF) of the system by assigning DOF indices to each element that determine the location of the local element contribution in the global system. The complete model is stored and managed by the \mbox{\hyperlink{class_m_o_d_e_l_1_1_model}{MODEL\+::\+Model}} class.\hypertarget{index_autotoc_md3}{}\doxysubsection{Algebra}\label{index_autotoc_md3}
Everything related to solving the system of equation is contained in the \mbox{\hyperlink{namespace_a_l_g_e_b_r_a}{ALGEBRA}} namespace. The sv\+Zero\+DSolver provides two different strategies for handling the system of equation\+: a dense strategy (see \mbox{\hyperlink{class_a_l_g_e_b_r_a_1_1_dense_system}{ALGEBRA\+::\+Dense\+System}}) and a sparse strategy (\mbox{\hyperlink{class_a_l_g_e_b_r_a_1_1_sparse_system}{ALGEBRA\+::\+Sparse\+System}}). The \mbox{\hyperlink{class_a_l_g_e_b_r_a_1_1_integrator}{ALGEBRA\+::\+Integrator}} handles the time integration scheme (see Integrator documentation for more information on that).\hypertarget{index_autotoc_md4}{}\doxysubsection{Input/output}\label{index_autotoc_md4}
Finally the \mbox{\hyperlink{namespace_i_o}{IO}} namespace provides everything related to reading and writing files. The \mbox{\hyperlink{class_i_o_1_1_config_reader}{IO\+::\+Config\+Reader}} reads the simultion config and \mbox{\hyperlink{namespace_i_o_a456fee8c34646a806d7ffc47d2692236}{IO\+::write\+\_\+csv}} and \mbox{\hyperlink{namespace_i_o_afa9845e77ecf4f0cd1d312b2af111973}{IO\+::write\+\_\+json}} are two different methods for writing the result files.

All classes make use of templates to allow easy exchange of scalar types like {\ttfamily double} or {\ttfamily float} or to switch between sparse and dense systems.\hypertarget{index_autotoc_md5}{}\doxysection{Build sv\+Zero\+DSolver}\label{index_autotoc_md5}
sv\+Zero\+DSolver can be build easily via CMake. Make sure you have the following dependencies installed before you start\+:\hypertarget{index_autotoc_md6}{}\doxysubsection{Install dependencies on mac\+OS}\label{index_autotoc_md6}

\begin{DoxyCode}{0}
\DoxyCodeLine{brew install eigen       \# Linear algebra library}
\DoxyCodeLine{brew install jsoncpp     \# Standard json library}
\DoxyCodeLine{brew install simdjson    \# Fast json input parser}

\end{DoxyCode}
\hypertarget{index_autotoc_md7}{}\doxysubsection{Install dependencies on Linux}\label{index_autotoc_md7}

\begin{DoxyCode}{0}
\DoxyCodeLine{sudo apt install libeigen3-\/dev       \# Linear algebra library}
\DoxyCodeLine{sudo apt-\/get install libjsoncpp-\/dev  \# Standard json library}
\DoxyCodeLine{sudo apt install libsimdjson-\/dev     \# Fast json input parser}

\end{DoxyCode}
\hypertarget{index_autotoc_md8}{}\doxysubsection{Build in debug mode}\label{index_autotoc_md8}

\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir Debug}
\DoxyCodeLine{cd Debug}
\DoxyCodeLine{cmake -\/DCMAKE\_BUILD\_TYPE=Debug ..}
\DoxyCodeLine{cmake -\/-\/build .}

\end{DoxyCode}
\hypertarget{index_autotoc_md9}{}\doxysubsection{Build in release mode}\label{index_autotoc_md9}

\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir Release}
\DoxyCodeLine{cd Release}
\DoxyCodeLine{cmake -\/DCMAKE\_BUILD\_TYPE=Release ..}
\DoxyCodeLine{cmake -\/-\/build .}

\end{DoxyCode}
\hypertarget{index_autotoc_md10}{}\doxysection{Run sv\+Zero\+DSolver}\label{index_autotoc_md10}
After building sv\+Zero\+DSolver, the build folder contains an executable called {\ttfamily svzerodsolver}. Run it with one of\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{./svzerodsolver path/to/config.json path/to/output.json  \# For json output}
\DoxyCodeLine{file format}
\DoxyCodeLine{./svzerodsolver path/to/config.json path/to/output.csv   \# For csv output}
\DoxyCodeLine{file format (faster) }

\end{DoxyCode}


{\ttfamily path/to/config.\+json} and {\ttfamily path/to/output} should be replaced by the correct paths to the input and output file, respectively.\hypertarget{index_autotoc_md11}{}\doxysubsection{Simulation parameters}\label{index_autotoc_md11}
The sv\+Zero\+DSolver can be configured with the following options in the {\ttfamily simulation\+\_\+parameters} section of the input file. Parameters without a default value must be specified.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Parameter key   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default value    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Parameter key   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default value    }\\\cline{1-3}
\endhead
number\+\_\+of\+\_\+cardiac\+\_\+cycles   &Number of cardiac cycles to simulate   &-\/    \\\cline{1-3}
number\+\_\+of\+\_\+time\+\_\+pts\+\_\+per\+\_\+cardiac\+\_\+cycle   &Number of time steps per cardiac cycle   &-\/    \\\cline{1-3}
absolute\+\_\+tolerance   &Absolute tolerance for time integration   &$10^{-8}$    \\\cline{1-3}
maximum\+\_\+nonlinear\+\_\+iterations   &Maximum number of nonlinear iterations for time integration   &$30$    \\\cline{1-3}
output\+\_\+interval   &The frequency of writing timesteps to the output (1 means every time step is written to output)   &$1$    \\\cline{1-3}
steady\+\_\+initial   &Toggle whether to use the steady solution as the initial condition for the simulation   &true    \\\cline{1-3}
output\+\_\+mean\+\_\+only   &Write only the mean values over every timestep in the output file (only in csv)   &false   \\\cline{1-3}
\end{longtabu}
\hypertarget{index_autotoc_md12}{}\doxysection{Developer Guide}\label{index_autotoc_md12}
If you are a developer and want to contribute to sv\+Zero\+DSolver, you can find more helpful information in our \mbox{\hyperlink{md_developer_guide}{Developer Guide}}. 